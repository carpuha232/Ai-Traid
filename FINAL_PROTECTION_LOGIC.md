# ะคะะะะะฌะะะฏ ะะะะะะ ะะะฉะะขะซ ะะะะะฆะะ

## ๐ ะะะะกะะะะ

### 1. ะกะขะะะฅะะะะงะะซะ ะกะขะะ (Emergency Stop)
**ะฃัะปะพะฒะธะต:** ROI < 0% (ัะดะตะปะบะฐ ะฒ ัะฑััะบะต)

**ะะพะณะธะบะฐ:**
- ะกัะฐะฒะธััั ะปะธะผะธัะฝัะน ะพัะดะตั ะฝะฐ ัะตะฝั, ะณะดะต ROI ะดะพััะธะณะฝะตั -85%
- ะะฐััะตั: ะธัะฟะพะปัะทัะตััั ัะพัะผัะปะฐ ROI ั ััะตัะพะผ leverage
- ะะปั LONG: ัะตะฝะฐ ะฝะธะถะต entry (ะณะดะต ROI = -85%)
- ะะปั SHORT: ัะตะฝะฐ ะฒััะต entry (ะณะดะต ROI = -85%)

**ะัะผะตะฝะฐ:**
- ะัะธ ROI โฅ 0% ัััะฐัะพะฒะพัะฝัะน ััะพะฟ ะะะฏะะะขะะะฌะะ ะพัะผะตะฝัะตััั

**ะะฐัััะพะนะบะธ:**
- `emergency_stop_enabled`: true
- `emergency_stop_roi_level`: -85.0 (ััะพะฒะตะฝั ROI ะดะปั ัััะฐัะพะฒะพัะฝะพะณะพ ััะพะฟะฐ)

### 2. ะกะขะะ-ะะะกะก (Progressive Stop)
**ะฃัะปะพะฒะธะต:** ROI โฅ +20% (ะฟะพ ัะผะพะปัะฐะฝะธั, ะฝะฐัััะฐะธะฒะฐะตััั)

**ะะพะณะธะบะฐ ัะฐะณะพะฒ:**
- **ะะพ +100%:** ัะฐะณ 10%
  - PNL +20% โ ััะพะฟ +10%
  - PNL +30% โ ััะพะฟ +20%
  - PNL +40% โ ััะพะฟ +30%
  - ... ะดะพ PNL +100% โ ััะพะฟ +90%

- **ะะพัะปะต +100% ะดะพ +300%:** ัะฐะณ 20%
  - PNL +120% โ ััะพะฟ +100%
  - PNL +140% โ ััะพะฟ +120%
  - PNL +160% โ ััะพะฟ +140%
  - ... ะดะพ PNL +300% โ ััะพะฟ +280%

- **ะะพัะปะต +300%:** ัะฐะณ 30% (ะฒัะตะณะดะฐ)
  - PNL +330% โ ััะพะฟ +300%
  - PNL +360% โ ััะพะฟ +330%
  - PNL +390% โ ััะพะฟ +360%
  - ะ ัะฐะบ ะดะฐะปะตะต ะฒัะตะณะดะฐ ัะฐะณ 30%

**ะัะฐะฒะธะปะพ ัััะฐะฝะพะฒะบะธ:**
- ะะพะฒัะน ะพัะดะตั ััะฐะฒะธััั ะะะะะซะ
- ะะพัะพะผ ัะดะฐะปัะตััั ััะฐััะน ะพัะดะตั
- ะญัะพ ะณะฐัะฐะฝัะธััะตั, ััะพ ััะพะฟ ะฒัะตะณะดะฐ ะฐะบัะธะฒะตะฝ

**Trailing stop:**
- ะะพะดััะณะธะฒะฐะตััั ัะพะปัะบะพ ะะะะะฅ (ะบะพะณะดะฐ PNL ัะฐััะตั)
- ะะ ะพะฟััะบะฐะตััั ะฒะฝะธะท (ะตัะปะธ PNL ัะฟะฐะป, ััะพะฟ ะพััะฐะตััั ะฝะฐ ะฟัะตะถะฝะตะผ ััะพะฒะฝะต)

**ะะฐัััะพะนะบะธ:**
- `stepped_stop_enabled`: true
- `stepped_stop_activation_pnl`: 20.0 (ะฟะพัะพะณ ะฐะบัะธะฒะฐัะธะธ, ะผะพะถะฝะพ ะธะทะผะตะฝะธัั)

## ๐ ะะะะะะะฎะงะะะะ ะะะะะะะ

```
ROI < 0%:
  โ ะกััะฐัะพะฒะพัะฝัะน ััะพะฟ (ROI = -85%)
  โ Averaging Order (ะดะพะฑะพั)
  โ ะกัะพะฟ-ะปะพัั (ะพัะผะตะฝะตะฝ)

ROI โฅ 0%:
  โ ะกััะฐัะพะฒะพัะฝัะน ััะพะฟ (ะะขะะะะะ!)
  โ Averaging Order (ะพัะผะตะฝะตะฝ)
  โ ะกัะพะฟ-ะปะพัั (ะฝะต ะฐะบัะธะฒะธัะพะฒะฐะฝ)

ROI โฅ +20% (activation_pnl):
  โ ะกััะฐัะพะฒะพัะฝัะน ััะพะฟ (ะะขะะะะะ!)
  โ Averaging Order (ะพัะผะตะฝะตะฝ)
  โ ะกัะพะฟ-ะปะพัั (ะฐะบัะธะฒะตะฝ, trailing)
```

## โ๏ธ ะะะกะขะะะะะ ะ config.json

```json
{
  "risk": {
    "emergency_stop_enabled": true,
    "emergency_stop_roi_level": -85.0,
    
    "stepped_stop_enabled": true,
    "stepped_stop_activation_pnl": 20.0,
    
    "averaging_down_enabled": true,
    "averaging_trigger_distance_from_liq": 15.0,
    "averaging_martingale_enabled": true
  }
}
```

## ๐ฏ ะะะฎะงะะะซะ ะะะะะะขะซ

1. **ะกััะฐัะพะฒะพัะฝัะน ััะพะฟ** ัะฐะฑะพัะฐะตั ะขะะะฌะะ ะฟัะธ ROI < 0%
2. **ะกัะพะฟ-ะปะพัั** ัะฐะฑะพัะฐะตั ะขะะะฌะะ ะฟัะธ ROI โฅ activation_pnl%
3. **ะกััะฐัะพะฒะพัะฝัะน ััะพะฟ ะะะฏะะะขะะะฌะะ ะพัะผะตะฝัะตััั** ะฟัะธ ROI โฅ 0%
4. **ะะพะฒัะน ะพัะดะตั ััะฐะฒะธััั ะะะะะซะ**, ะฟะพัะพะผ ัะดะฐะปัะตััั ััะฐััะน
5. **ะะตั ะบะพะฝัะปะธะบัะพะฒ** - ัะพะปัะบะพ ะพะดะธะฝ ัะธะฟ ะทะฐัะธัั ะฐะบัะธะฒะตะฝ ะฒ ะบะฐะถะดัะน ะผะพะผะตะฝั



